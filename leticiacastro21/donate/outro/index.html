<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Donate</title>

    <!-- CSS -->
    <link href="./assets/css/com.css" rel="stylesheet" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Awesome CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />

    <style>
      /* Estilo do popup */
      .popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 20px;
        border-radius: 8px;
        z-index: 1000;
        width: 300px; /* Definindo a largura do popup */
        text-align: center; /* Centralizando o texto */
      }
    </style>
  </head>
  <body>
    <!-- Conteúdo do Bootstrap -->
    <div class="container">
      <h1
        style="
          color: #0c9f07;
          text-align: center;
          font-weight: bolder;
          margin-bottom: 15px;
        "
      >
        Código gerado! Agora finalize o pagamento
      </h1>
      <div class="copy-box">
        <p>O código expira em: <span id="countdown">07:00</span></p>
        <div class="copy-box-d">
          <p style="margin-bottom: 15px">
            Copie a chave abaixo e utilize a opção
            <span style="font-weight: 800; color: black"
              >PIX Copia e Cola:</span
            >
          </p>
          <!-- Valor personalizado | Outro -->
          <input
            type="text"
            id="pixKey"
            value="00020126480014BR.GOV.BCB.PIX0126leticiacastrof22@gmail.com5204000053039865802BR5914Leticia Castro6009Sao Paulo62070503***63049DFE"
            readonly
            style="
              width: 100%;
              padding: 10px;
              border-radius: 8px;
              border: solid 1px gray;
            "
          />
        </div>
        <button class="copy-button" onclick="copyPixKey()">
          <img
            src="./assets/images/copy.svg"
            width="25px"
            style="filter: invert(1)"
          />
          COPIAR CÓDIGO
        </button>
      </div>

      <p style="font-weight: normal">
        Valor a ser pago:
        <span style="font-weight: 700">R$ 5,00</span>
      </p>
      <p style="font-weight: normal; margin: 0px; font-weight: bold">
        Instruções para o pagamento
      </p>
      <img
        src="./assets/images/tutorial.png"
        style="
          border-radius: 0px;
          border: 0px;
          box-shadow: none;
          margin-bottom: 30px;
          max-width: 400px;
        "
        width="100%"
      />
    </div>

    <!-- Popup de aviso -->
    <div id="popup" class="popup">Código copiado com sucesso!</div>

    <!-- Código para copiar o código -->
    <script>
      function copyPixKey() {
        var copyText = document.getElementById("pixKey");
        copyText.select();
        copyText.setSelectionRange(0, 99999); // For mobile devices
        document.execCommand("copy");

        // Mostrar o popup
        var popup = document.getElementById("popup");
        popup.style.display = "block";
        setTimeout(function () {
          popup.style.display = "none";
        }, 2000); // Esconde o popup após 2 segundos
      }

      // Contador regressivo
      var countdownElement = document.getElementById("countdown");
      var countdownTime = 7 * 60; // 7 minutos em segundos

      function startCountdown() {
        var timer = setInterval(function () {
          var minutes = Math.floor(countdownTime / 60);
          var seconds = countdownTime % 60;

          // Formatação para exibir sempre dois dígitos
          var formattedTime =
            (minutes < 10 ? "0" : "") +
            minutes +
            ":" +
            (seconds < 10 ? "0" : "") +
            seconds;

          countdownElement.textContent = formattedTime;

          if (countdownTime <= 0) {
            clearInterval(timer);
            countdownElement.textContent = "00:00";
          } else {
            countdownTime--;
          }
        }, 1000); // Atualiza a cada segundo
      }

      // Iniciar o contador quando a página carregar
      window.onload = function () {
        startCountdown();
      };
    </script>

    <!-- jQuery e Popper.js (necessários para o Bootstrap) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
  </body>
</html>
